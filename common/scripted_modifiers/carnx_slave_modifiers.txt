carnx_lacking_councillors_modifier = {
	carnx_lacking_councillor_modifier = {
		NAME = chancellor
		RULER = $RULER$
		SLAVE = $SLAVE$
		SCALE = $SCALE$
		SKILL = diplomacy
	}
	carnx_lacking_councillor_modifier = {
		NAME = marshal
		RULER = $RULER$
		SLAVE = $SLAVE$
		SCALE = $SCALE$
		SKILL = martial
	}
	carnx_lacking_councillor_modifier = {
		NAME = steward
		RULER = $RULER$
		SLAVE = $SLAVE$
		SCALE = $SCALE$
		SKILL = stewardship
	}
	carnx_lacking_councillor_modifier = {
		NAME = spymaster
		RULER = $RULER$
		SLAVE = $SLAVE$
		SCALE = $SCALE$
		SKILL = intrigue
	}
}

carnx_lacking_councillor_modifier = {
	compare_modifier = {
		trigger = {
			$SLAVE$ = {
				carnx_can_serve_as_$NAME$_trigger = { RULER = $RULER$ }
			}
		}
		target = $SLAVE$
		value = $SKILL$
		offset = {
			value = 0
			subtract = carnx_default_skill_threshold
		}
		multiplier = $SCALE$
		desc = carnx_lacking_$NAME$_reason
	}
}

carnx_lacking_court_positions_modifier = {
	carnx_lacking_court_position_modifier = {
		TYPE = court_physician_court_position
		NAME = court_physician
		RULER = $RULER$
		SLAVE = $SLAVE$
		SCALE = $SCALE$
	}
	carnx_lacking_court_position_modifier = {
		TYPE = antiquarian_court_position
		NAME = antiquarian
		RULER = $RULER$
		SLAVE = $SLAVE$
		SCALE = $SCALE$
	}
	carnx_lacking_court_position_modifier = {
		TYPE = court_gardener_court_position
		NAME = court_gardener
		RULER = $RULER$
		SLAVE = $SLAVE$
		SCALE = $SCALE$
	}
	carnx_lacking_court_position_modifier = {
		TYPE = court_tutor_court_position
		NAME = court_tutor
		RULER = $RULER$
		SLAVE = $SLAVE$
		SCALE = $SCALE$
	}
	carnx_lacking_court_position_modifier = {
		TYPE = food_taster_court_position
		NAME = food_taster
		RULER = $RULER$
		SLAVE = $SLAVE$
		SCALE = $SCALE$
	}
	carnx_lacking_court_position_modifier = {
		TYPE = seneschal_court_position
		NAME = seneschal
		RULER = $RULER$
		SLAVE = $SLAVE$
		SCALE = $SCALE$
	}
	carnx_lacking_court_position_modifier = {
		TYPE = cupbearer_court_position
		NAME = cupbearer
		RULER = $RULER$
		SLAVE = $SLAVE$
		SCALE = $SCALE$
	}
	carnx_lacking_court_position_modifier = {
		TYPE = chief_eunuch_court_position
		NAME = chief_eunuch
		RULER = $RULER$
		SLAVE = $SLAVE$
		SCALE = $SCALE$
	}
	carnx_lacking_court_position_modifier = {
		TYPE = court_jester_court_position
		NAME = court_jester
		RULER = $RULER$
		SLAVE = $SLAVE$
		SCALE = $SCALE$
	}
	carnx_lacking_court_position_modifier = {
		TYPE = court_poet_court_position
		NAME = court_poet
		RULER = $RULER$
		SLAVE = $SLAVE$
		SCALE = $SCALE$
	}
	carnx_lacking_court_position_modifier = {
		TYPE = court_musician_court_position
		NAME = court_musician
		RULER = $RULER$
		SLAVE = $SLAVE$
		SCALE = $SCALE$
	}
	carnx_lacking_court_position_modifier = {
		TYPE = bodyguard_court_position
		NAME = bodyguard
		RULER = $RULER$
		SLAVE = $SLAVE$
		SCALE = $SCALE$
	}
	carnx_lacking_court_position_modifier = {
		TYPE = champion_court_position
		NAME = champion
		RULER = $RULER$
		SLAVE = $SLAVE$
		SCALE = $SCALE$
	}
	carnx_lacking_court_position_modifier = {
		TYPE = executioner_court_position
		NAME = executioner
		RULER = $RULER$
		SLAVE = $SLAVE$
		SCALE = $SCALE$
	}
	carnx_lacking_court_position_modifier = {
		TYPE = carnx_slave_concubine_court_position
		NAME = slave_concubine
		RULER = $RULER$
		SLAVE = $SLAVE$
		SCALE = $SCALE$
	}
	carnx_lacking_court_position_modifier = {
		TYPE = carnx_slave_captain_court_position
		NAME = slave_captain
		RULER = $RULER$
		SLAVE = $SLAVE$
		SCALE = $SCALE$
	}
}

carnx_lacking_court_position_modifier = {
	compare_modifier = {
		trigger = {
			$SLAVE$ = {
				carnx_can_serve_as_$NAME$_trigger = { RULER = $RULER$ }
			}
		}
		target = $SLAVE$
		value = aptitude:$TYPE$
		offset = {
			value = 0
			subtract = carnx_$NAME$_aptitude_threshold
		}
		multiplier = $SCALE$
		desc = carnx_lacking_$NAME$_reason
	}
}

carnx_lacking_knights_modifier = {
	compare_modifier = {
		trigger = {
			$SLAVE$ = {
				carnx_can_serve_as_knight_trigger = { RULER = $RULER$ }
			}
		}
		target = $SLAVE$
		value = prowess
		offset = {
			value = 0
			subtract = carnx_default_skill_threshold
		}
		multiplier = $SCALE$
		desc = "carnx_lacking_knights_reason"
	}
}

carnx_lacking_commanders_modifier = {
	compare_modifier = {
		trigger = {
			$SLAVE$ = {
				carnx_can_serve_as_commander_trigger = { RULER = $RULER$ }
			}
		}
		target = $SLAVE$
		value = carnx_commander_skill_value
		multiplier = $SCALE$
		desc = "carnx_lacking_commanders_reason"
	}
}

carnx_family_and_relations_modifier = {
	modifier = {
		$SLAVE$ = {
			carnx_is_family_or_positive_relation_trigger = { CHARACTER = $RULER$ }
		}
		add = {
			value = $SCALE$
			if = {
				limit = {
					$SLAVE$ = {
						OR = {
							is_child_of = $RULER$
							has_relation_best_friend = $RULER$
							has_relation_soulmate = $RULER$
						}
					}
				}
				multiply = 4
			}
			else_if = {
				limit = {
					$SLAVE$ = {
						OR = {
							is_close_family_of = $RULER$
							has_relation_friend = $RULER$
							has_relation_lover = $RULER$
							has_secret_relation_lover = $RULER$
							has_relation_crush = $RULER$
							is_spouse_of = $RULER$
						}
					}
				}
				multiply = 3
			}
			else_if = {
				limit = {
					$SLAVE$ = {
						is_close_or_extended_family_of = $RULER$
					}
				}
				multiply = 2
			}
		}
		desc = "DEAR_TO_ME_REASON"
	}
}

carnx_claims_modifier = {
	modifier = {
		$SLAVE$ = {
			carnx_has_useful_claims_trigger = { RULER = $RULER$ }
		}
		add = $SCALE$
		desc = "carnx_secondary_recipient_claims_reason"
	}
}

carnx_attraction_modifier = {
	modifier = {
		$SLAVE$ = {
			carnx_is_attractive_to_character_trigger = { CHARACTER = $RULER$ }
			NOT = { carnx_can_serve_as_slave_concubine_trigger = { RULER = $RULER$ } }
		}
		add = {
			value = $SLAVE$.attraction
			divide = high_positive_attraction
			multiply = $SCALE$
			if = {
				limit = { $RULER$ = { has_trait = lustful } }
				multiply = 2
			}
			else_if = {
				limit = { $RULER$ = { has_trait = chaste } }
				multiply = 0.5
			}
			floor = yes
		}
		desc = "carnx_secondary_recipient_attraction_reason"
	}
}

carnx_female_modifier = {
	modifier = {
		$SLAVE$ = {
			carnx_is_visibly_fertile_female_trigger = yes
		}
		add = $SCALE$
		desc = "carnx_secondary_recipient_female_reason"
	}
}

carnx_age_modifier = {
	modifier = {
		$SLAVE$ = {
			trigger_if = {
				limit = { $SCALE$ > 0 }
				carnx_is_useful_slave_to_future_owner_trigger = { RULER = $RULER$ }
			}
			trigger_else = {
				carnx_is_useful_slave_to_current_owner_trigger = { RULER = $RULER$ }
			}
		}
		add = {
			value = $SCALE$
			if = {
				limit = { $SLAVE$.age < 16 }
				subtract = {
					value = 16
					subtract = $SLAVE$.age
					multiply = $SCALE$
					divide = 10
					floor = yes
				}
			}
			else_if = {
				limit = { $SLAVE$.age > 30 }
				subtract = {
					value = $SLAVE$.age
					subtract = 30
					multiply = $SCALE$
					divide = 20
					floor = yes
				}
			}
		}
		desc = "carnx_secondary_recipient_age_reason"
	}
}

carnx_base_price_modifier = {
	modifier = {
		$SLAVE$.carnx_slave_base_price_value < $RULER$.minor_gold_value
		add = $SCALE$
		desc = "carnx_secondary_recipient_cheap_reason"
	}
	modifier = {
		$SLAVE$.carnx_slave_base_price_value > $RULER$.major_gold_value
		add = { value = $SCALE$ multiply = -1 }
		desc = "carnx_secondary_recipient_expensive_reason"
	}
}

carnx_ask_price_modifier = {
	modifier = {
		$RULER1$ = { save_temporary_scope_as = seller }
		$SLAVE$.carnx_slave_ask_price_value < $RULER2$.minor_gold_value
		add = $SCALE$
		desc = "carnx_secondary_recipient_cheap_reason"
	}
	modifier = {
		$RULER1$ = { save_temporary_scope_as = seller }
		$SLAVE$.carnx_slave_ask_price_value > $RULER2$.major_gold_value
		add = { value = $SCALE$ multiply = -1 }
		desc = "carnx_secondary_recipient_expensive_reason"
	}
}

carnx_bid_price_modifier = {
	modifier = {
		$RULER1$ = { save_temporary_scope_as = buyer }
		$SLAVE$.carnx_slave_bid_price_value < $RULER2$.minor_gold_value
		add = $SCALE$
		desc = "carnx_secondary_recipient_cheap_reason"
	}
	modifier = {
		$RULER1$ = { save_temporary_scope_as = buyer }
		$SLAVE$.carnx_slave_bid_price_value > $RULER2$.major_gold_value
		add = { value = $SCALE$ multiply = -1 }
		desc = "carnx_secondary_recipient_expensive_reason"
	}
}

carnx_employed_modifier = {
	modifier = {
		$SLAVE$ = {
			is_councillor_of = $RULER$
		}
		add = { value = $SCALE$ multiply = 2 }
		desc = "carn_secondary_recipient_is_my_councillor_reason"
	}
	modifier = {
		$SLAVE$ = {
			has_any_court_position = yes
			any_court_position_employer = { this = $RULER$ }
		}
		add = { value = $SCALE$ multiply = 2 }
		desc = "carnx_secondary_recipient_has_court_position_reason"
	}
	modifier = {
		$SLAVE$ = {
			OR = {
				is_knight_of = $RULER$
				is_commanding_army = yes
			}
		}
		add = $SCALE$
		desc = "carn_secondary_recipient_is_my_knight_reason"
	}
	modifier = {
		$SLAVE$ = {
			carnx_has_important_role_trigger = { RULER = $RULER$ }
		}
		add = $SCALE$
		desc = "carnx_secondary_recipient_has_important_role_reason"
	}
}

carnx_execute_reason_modifier = {
	modifier = {
		OR = {
			has_execute_reason = $SLAVE$
			has_relation_rival = $SLAVE$
			has_relation_nemesis = $SLAVE$
			$SLAVE$ = {
				is_spouse_of = $RULER$
				exposed_cheating_on_spouse_trigger = { SPOUSE = $RULER$ }
			}
		}
		add = {
			value = $SCALE$
			if = {
				limit = { has_relation_nemesis = $SLAVE$ }
				multiply = 2
			}
		}
		desc = AI_EXECUTE_REASON_MODIFIER
	}
}

carnx_capture_chance_modifier = {
	modifier = {
		add = 40
		NOT = {
			any_claim = {
				useful_courtier_or_guest_claim_trigger = { RULER = $RULER$ }
			}
		}
	}
	modifier = {
		add = 10
		NAND = {
			can_be_chancellor_trigger = { COURT_OWNER = $RULER$ }
			diplomacy >= high_skill_rating
		}
	}
	modifier = {
		add = 10
		NAND = {
			can_be_marshal_trigger = { COURT_OWNER = $RULER$ }
			martial >= high_skill_rating
		}
	}
	modifier = {
		add = 10
		NAND = {
			can_be_steward_trigger = { COURT_OWNER = $RULER$ }
			stewardship >= high_skill_rating
		}
	}
	modifier = {
		add = 10
		NAND = {
			can_be_spymaster_trigger = { COURT_OWNER = $RULER$ }
			intrigue >= high_skill_rating
		}
	}
	modifier = {
		add = 10
		NOT = { learning >= high_skill_rating }
	}
	modifier = {
		add = 10
		NOT = {	prowess >= high_skill_rating }
	}
	modifier = {
		add = 40
		is_female = yes
		is_visibly_fertile = yes
	}
}
